(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const d="https://pyrolistical.github.io/zig-wasm-canvas/assets/index-DEgk8qcE.wasm",f=document.body.querySelector("canvas"),r=f.getContext("2d"),u=await WebAssembly.compileStreaming(fetch(d)),c=(t,e)=>{const n=new Uint8Array(a.buffer,t,e);return new TextDecoder().decode(n)},m=t=>{const e=new TextEncoder().encode(t),n=g(e.length+1),s=new Uint8Array(a.buffer,n,e.length+1);return s.set(e),s[e.length]=0,n},{exports:{memory:a,_draw:p,allocUint8:g,free:y}}=await WebAssembly.instantiate(u,{app:{_allocPromptName(t,e){const n=c(t,e),s=window.prompt(n)??"Human";return m(s)}},env:{_throwError(t,e){const n=c(t,e);throw new Error(n)},_consoleLog(t,e){const n=c(t,e);console.log(n)}},ctx:{save:r.save.bind(r),restore:r.restore.bind(r),translate(t,e){r.translate(t,e)},scale(t,e){r.scale(t,e)},rotate(t){r.rotate(t)},beginPath(){r.beginPath()},moveTo(t,e){r.moveTo(t,e)},lineTo(t,e){r.lineTo(t,e)},_font(t,e){r.font=c(t,e)},_fillStyle(t,e){r.fillStyle=c(t,e)},_fillText(t,e,n,s){const o=c(t,e);r.fillText(o,n,s)},fill(){r.fill()},lineWidth(t){r.lineWidth=t},_lineCap(t,e){r.lineCap=c(t,e)},_strokeStyle(t,e){r.strokeStyle=c(t,e)},_strokeText(t,e,n,s){const o=c(t,e);r.strokeText(o,n,s)},stroke(){r.stroke()}}});p();
